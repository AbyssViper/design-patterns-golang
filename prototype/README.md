# 原型模式



> wiki:原型模式是创建型模式的一种，其特点在于通过“复制”一个已经存在的实例来返回新的实例,而不是新建实例。被复制的实例就是我们所称的“原型”，这个原型是可定制的。原型模式多用于创建复杂的或者耗时的实例，因为这种情况下，复制一个已经存在的实例使程序运行更高效；或者创建值相等，只是命名不一样的同类数据



```go
func (t *Type1) Clone() CloneAble {
	// 核心部分只有这里，决定深复制还是浅复制

	// 深复制
	// 取值后，赋值给新开辟内存的变量
	typeClone := *t
	// 返回新变量的地址
	return &typeClone

	// 浅复制
	//return t
}
```





### 深拷贝与浅拷贝



深拷贝：拷贝的整个对象

浅拷贝：拷贝对象指针



`go`中默认都是值传递，传递对象给形参，拷贝的就是对象，传递指针给形参，拷贝的就是指针

`go`完全是按值传递，所以如果深度拷贝的对象中包含有指针的话，那么深度拷贝后，这些**指针也会相同**，会导致部分数据共享，要注意这一点.